{"ast":null,"code":"import _slicedToArray from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createContext,useCallback,useContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var DataContext=/*#__PURE__*/createContext({});export var api={loadData:function(){var _loadData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/datas.json');case 2:json=_context.sent;return _context.abrupt(\"return\",json.json());case 4:case\"end\":return _context.stop();}},_callee);}));function loadData(){return _loadData.apply(this,arguments);}return loadData;}()};export var DataProvider=function DataProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var getData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.t0=setData;_context2.next=4;return api.loadData();case 4:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);_context2.next=11;break;case 8:_context2.prev=8;_context2.t2=_context2[\"catch\"](0);setError(_context2.t2);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);})),[]);useEffect(function(){if(data)return;getData();});return/*#__PURE__*/_jsx(DataContext.Provider,{// eslint-disable-next-line react/jsx-no-constructed-context-values\nvalue:{data:data,error:error},children:children});};export var useData=function useData(){return useContext(DataContext);};export default DataContext;","map":{"version":3,"names":["createContext","useCallback","useContext","useEffect","useState","jsx","_jsx","DataContext","api","loadData","_loadData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","json","wrap","_callee$","_context","prev","next","fetch","sent","abrupt","stop","apply","arguments","DataProvider","_ref","children","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","data","setData","getData","_callee2","_callee2$","_context2","t0","t1","t2","Provider","value","useData"],"sources":["A:/projets developpement/my-portfolio/src/containers/context/index.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n} from 'react';\r\n\r\nconst DataContext = createContext({});\r\n\r\nexport const api = {\r\n  loadData: async () => {\r\n    const json = await fetch('/datas.json');\r\n    return json.json();\r\n  },\r\n};\r\n\r\nexport const DataProvider = ({ children }) => {\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState(null);\r\n  const getData = useCallback(async () => {\r\n    try {\r\n      setData(await api.loadData());\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    if (data) return;\r\n    getData();\r\n  });\r\n\r\n  return (\r\n    <DataContext.Provider\r\n      // eslint-disable-next-line react/jsx-no-constructed-context-values\r\n      value={{\r\n        data,\r\n        error,\r\n      }}\r\n    >\r\n      {children}\r\n    </DataContext.Provider>\r\n  );\r\n};\r\n\r\nDataProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport const useData = () => useContext(DataContext);\r\n\r\nexport default DataContext;\r\n"],"mappings":"iYACA,OACEA,aAAa,CACbC,WAAW,CACXC,UAAU,CACVC,SAAS,CACTC,QAAQ,KACH,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEf,GAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,CAAC,CAAC,CAAC,CAErC,MAAO,IAAM,CAAAQ,GAAG,CAAG,CACjBC,QAAQ,gBAAAC,SAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAA,MAAAC,IAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACW,CAAAC,KAAK,CAAC,aAAa,CAAC,QAAjCN,IAAI,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAK,MAAA,UACHR,IAAI,CAACA,IAAI,CAAC,CAAC,0BAAAG,QAAA,CAAAM,IAAA,MAAAV,OAAA,GACnB,YAAAL,SAAA,SAAAC,SAAA,CAAAe,KAAA,MAAAC,SAAA,UAAAjB,QAAA,IACH,CAAC,CAED,MAAO,IAAM,CAAAkB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACrC,IAAAC,SAAA,CAA0B1B,QAAQ,CAAC,IAAI,CAAC,CAAA2B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAwB/B,QAAQ,CAAC,IAAI,CAAC,CAAAgC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,GAAM,CAAAG,OAAO,CAAGtC,WAAW,cAAAU,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAA2B,SAAA,SAAA5B,mBAAA,GAAAI,IAAA,UAAAyB,UAAAC,SAAA,iBAAAA,SAAA,CAAAvB,IAAA,CAAAuB,SAAA,CAAAtB,IAAA,SAAAsB,SAAA,CAAAvB,IAAA,GAAAuB,SAAA,CAAAC,EAAA,CAExBL,OAAO,CAAAI,SAAA,CAAAtB,IAAA,SAAO,CAAAZ,GAAG,CAACC,QAAQ,CAAC,CAAC,QAAAiC,SAAA,CAAAE,EAAA,CAAAF,SAAA,CAAApB,IAAA,IAAAoB,SAAA,CAAAC,EAAA,EAAAD,SAAA,CAAAE,EAAA,EAAAF,SAAA,CAAAtB,IAAA,iBAAAsB,SAAA,CAAAvB,IAAA,GAAAuB,SAAA,CAAAG,EAAA,CAAAH,SAAA,aAE5BR,QAAQ,CAAAQ,SAAA,CAAAG,EAAI,CAAC,CAAC,yBAAAH,SAAA,CAAAlB,IAAA,MAAAgB,QAAA,gBAEjB,GAAE,EAAE,CAAC,CACNrC,SAAS,CAAC,UAAM,CACd,GAAIkC,IAAI,CAAE,OACVE,OAAO,CAAC,CAAC,CACX,CAAC,CAAC,CAEF,mBACEjC,IAAA,CAACC,WAAW,CAACuC,QAAQ,EACnB;AACAC,KAAK,CAAE,CACLV,IAAI,CAAJA,IAAI,CACJJ,KAAK,CAALA,KACF,CAAE,CAAAJ,QAAA,CAEDA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAMD,MAAO,IAAM,CAAAmB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,QAAS,CAAA9C,UAAU,CAACK,WAAW,CAAC,GAEpD,cAAe,CAAAA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}