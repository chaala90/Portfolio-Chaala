{"ast":null,"code":"import _slicedToArray from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect,useState}from\"react\";import{gsap}from\"gsap\";import{ScrollTrigger}from\"gsap/dist/ScrollTrigger\";import\"./Parallax.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Parallax=function Parallax(){var _useState=useState(20),_useState2=_slicedToArray(_useState,2),background=_useState2[0],setBackground=_useState2[1];var parallaxRef=useRef(null);var mountain3=useRef(null);var mountain2=useRef(null);var mountain1=useRef(null);var cloudsBottom=useRef(null);var cloudsLeft=useRef(null);var cloudsRight=useRef(null);var stars=useRef(null);var sun=useRef(null);var copy=useRef(null);var btn=useRef(null);useEffect(function(){var ctx=gsap.context(function(){gsap.registerPlugin(ScrollTrigger);var tl=gsap.timeline({defaults:{duration:1},scrollTrigger:{trigger:parallaxRef.current,start:\"top top\",end:\"5000 bottom\",scrub:true,pin:true,onUpdate:function onUpdate(self){setBackground(Math.ceil(self.progress*100+20));}}});tl.to(mountain3.current,{y:\"-=80\"},0);tl.to(mountain2.current,{y:\"-=30\"},0);tl.to(mountain1.current,{y:\"+=50\"},0);tl.to(stars.current,{top:0},0.5);tl.to(cloudsBottom.current,{opacity:0,duration:0.5},0);tl.to(cloudsLeft.current,{x:\"-20%\",opacity:0},0);tl.to(cloudsRight.current,{x:\"20%\",opacity:0},0);tl.to(sun.current,{y:\"+=210\"},0);tl.to(copy.current,{y:\"+=100%\",opacity:1},0);tl.to(btn.current,{opacity:1},1.5);});return function(){return ctx.revert();};},[]);return/*#__PURE__*/_jsx(\"div\",{id:\"parallax\",className:\"parallax-outer\",children:/*#__PURE__*/_jsxs(\"div\",{ref:parallaxRef,style:{background:\"linear-gradient(#778da9, #778da9 \".concat(background,\"%, #a3b18a, #00FF00 )\")},className:\"parallax\",children:[/*#__PURE__*/_jsx(\"img\",{ref:mountain3,className:\"mountain-3\",alt:\"mountain\",src:\"/paralax/mountain-3.svg\"}),/*#__PURE__*/_jsx(\"img\",{ref:cloudsLeft,alt:\"cloud\",className:\"clouds-left\",src:\"/paralax/clouds-left.svg\"}),/*#__PURE__*/_jsx(\"img\",{ref:cloudsRight,alt:\"cloud\",className:\"clouds-right\",src:\"/paralax/clouds-right.svg\"}),/*#__PURE__*/_jsx(\"img\",{ref:stars,className:\"stars\",alt:\"stars\",src:\"/paralax/stars.svg\"})]})});};export default Parallax;","map":{"version":3,"names":["React","useRef","useEffect","useState","gsap","ScrollTrigger","jsx","_jsx","jsxs","_jsxs","Parallax","_useState","_useState2","_slicedToArray","background","setBackground","parallaxRef","mountain3","mountain2","mountain1","cloudsBottom","cloudsLeft","cloudsRight","stars","sun","copy","btn","ctx","context","registerPlugin","tl","timeline","defaults","duration","scrollTrigger","trigger","current","start","end","scrub","pin","onUpdate","self","Math","ceil","progress","to","y","top","opacity","x","revert","id","className","children","ref","style","concat","alt","src"],"sources":["A:/projets developpement/my-portfolio/src/components/Parallax/Parallax.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { gsap } from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/dist/ScrollTrigger\";\r\nimport \"./Parallax.scss\"\r\n\r\nconst Parallax = () => {\r\n    const [background, setBackground] = useState(20)\r\n    const parallaxRef = useRef(null);\r\n    const mountain3 = useRef(null);\r\n    const mountain2 = useRef(null);\r\n    const mountain1 = useRef(null);\r\n    const cloudsBottom = useRef(null);\r\n    const cloudsLeft = useRef(null);\r\n    const cloudsRight = useRef(null);\r\n    const stars = useRef(null);\r\n    const sun = useRef(null);\r\n    const copy = useRef(null);\r\n    const btn = useRef(null);\r\n\r\n    useEffect(() => {\r\n        let ctx = gsap.context(() => {\r\n            gsap.registerPlugin(ScrollTrigger);\r\n            var tl = gsap.timeline({\r\n                defaults: { duration: 1 },\r\n                scrollTrigger: {\r\n                    trigger: parallaxRef.current,\r\n                    start: \"top top\",\r\n                    end: \"5000 bottom\",\r\n                    scrub: true,\r\n                    pin: true,\r\n                    onUpdate: (self) => {\r\n                        setBackground(Math.ceil(self.progress * 100 + 20))\r\n                    },\r\n                },\r\n            });\r\n            tl.to(\r\n                mountain3.current,\r\n                {\r\n                    y: \"-=80\",\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                mountain2.current,\r\n                {\r\n                    y: \"-=30\",\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                mountain1.current,\r\n                {\r\n                    y: \"+=50\",\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                stars.current,\r\n                {\r\n                    top: 0,\r\n                },\r\n                0.5\r\n            );\r\n            tl.to(\r\n                cloudsBottom.current,\r\n                {\r\n                    opacity: 0,\r\n                    duration: 0.5\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                cloudsLeft.current,\r\n                {\r\n                    x: \"-20%\",\r\n                    opacity: 0,\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                cloudsRight.current,\r\n                {\r\n                    x: \"20%\",\r\n                    opacity: 0,\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                sun.current,\r\n                {\r\n                    y: \"+=210\",\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                copy.current,\r\n                {\r\n                    y: \"+=100%\",\r\n                    opacity: 1\r\n                },\r\n                0\r\n            );\r\n            tl.to(\r\n                btn.current,\r\n                {\r\n                    opacity: 1,\r\n                },\r\n                1.5\r\n            );\r\n        });\r\n        return () => ctx.revert();\r\n    }, []);\r\n\r\n    return (\r\n        <div id=\"parallax\" className=\"parallax-outer\">\r\n<div ref={parallaxRef} style={{ background: `linear-gradient(#778da9, #778da9 ${background}%, #a3b18a, #00FF00 )` }} className='parallax'>\r\n                <img ref={mountain3} className='mountain-3' alt=\"mountain\" src=\"/paralax/mountain-3.svg\" />\r\n                {/*<img ref={mountain2} className='mountain-2' alt=\"mountain\" src=\"/paralax/mountain-2.svg\" />\r\n                <img ref={mountain1} className='mountain-1' alt=\"mountain\" src=\"/paralax/mountain-1.svg\" />\r\n                <img ref={sun} className='sun' alt=\"sun\" src=\"/paralax/sun.svg\" />\r\n                <img ref={cloudsBottom} alt=\"cloud\" className='clouds-bottom' src=\"/paralax/cloud-bottom.svg\" />*/}\r\n                <img ref={cloudsLeft} alt=\"cloud\" className='clouds-left' src=\"/paralax/clouds-left.svg\" />\r\n                <img ref={cloudsRight} alt=\"cloud\" className='clouds-right' src=\"/paralax/clouds-right.svg\" />\r\n                <img ref={stars} className='stars' alt=\"stars\" src=\"/paralax/stars.svg\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Parallax;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}