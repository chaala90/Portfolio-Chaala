{"ast":null,"code":"import _regeneratorRuntime from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState,useRef}from'react';import Button,{BUTTON_TYPES}from'../../components/Button/Button';import emailjs from'emailjs-com';import'./Form.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=function Form(_ref){var onSuccess=_ref.onSuccess,onError=_ref.onError;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sending=_useState2[0],setSending=_useState2[1];var form=useRef();var sendContact=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:evt.preventDefault();setSending(true);_context.prev=2;_context.next=5;return emailjs.sendForm('service_6tgw3oc','template_w8uoclo',form.current,'tQC2MQP8g-abLkhXt ');case 5:setSending(false);onSuccess();_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);setSending(false);onError(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[onSuccess,onError]);return/*#__PURE__*/_jsxs(\"form\",{id:\"contact-form\",ref:form,onSubmit:sendContact,children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"name\",children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Your Full Name\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Your Email Address\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"message\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"6\",placeholder:\"Your Message\",id:\"message\",name:\"message\",required:true}),/*#__PURE__*/_jsx(Button,{id:\"submit\",type:BUTTON_TYPES.SUBMIT,disabled:sending,children:sending?'En cours':'Envoyer'})]});};Form.defaultProps={onError:function onError(){return null;},onSuccess:function onSuccess(){return null;}};export default Form;","map":{"version":3,"names":["React","useCallback","useState","useRef","Button","BUTTON_TYPES","emailjs","jsx","_jsx","jsxs","_jsxs","Form","_ref","onSuccess","onError","_useState","_useState2","_slicedToArray","sending","setSending","form","sendContact","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","evt","wrap","_callee$","_context","prev","next","preventDefault","sendForm","current","t0","stop","_x","apply","arguments","id","ref","onSubmit","children","className","htmlFor","type","name","placeholder","required","rows","SUBMIT","disabled","defaultProps"],"sources":["A:/projets developpement/my-portfolio/src/containers/Form/Form.jsx"],"sourcesContent":["import React, { useCallback, useState, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button, { BUTTON_TYPES } from '../../components/Button/Button';\r\nimport emailjs from 'emailjs-com';\r\nimport './Form.scss';\r\n\r\nconst Form = ({ onSuccess, onError }) => {\r\n  const [sending, setSending] = useState(false);\r\n  const form = useRef();\r\n\r\n  const sendContact = useCallback(async (evt) => {\r\n    evt.preventDefault();\r\n    setSending(true);\r\n\r\n    try {\r\n      await emailjs.sendForm(\r\n        'service_6tgw3oc',\r\n        'template_w8uoclo',\r\n        form.current,\r\n        'tQC2MQP8g-abLkhXt '\r\n      );\r\n\r\n      setSending(false);\r\n      onSuccess();\r\n    } catch (err) {\r\n      setSending(false);\r\n      onError(err);\r\n    }\r\n  }, [onSuccess, onError]);\r\n\r\n  return (\r\n    <form id=\"contact-form\" ref={form} onSubmit={sendContact}>\r\n      <label className=\"label\" htmlFor=\"name\">\r\n        Full name\r\n      </label>\r\n      <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Your Full Name\" required />\r\n      <label className=\"label\" htmlFor=\"email\">\r\n        Email Address\r\n      </label>\r\n      <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Your Email Address\" required />\r\n      <label className=\"label\" htmlFor=\"message\">\r\n        Message\r\n      </label>\r\n      <textarea rows=\"6\" placeholder=\"Your Message\" id=\"message\" name=\"message\" required />\r\n      <Button id=\"submit\" type={BUTTON_TYPES.SUBMIT} disabled={sending}>\r\n        {sending ? 'En cours' : 'Envoyer'}\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nForm.propTypes = {\r\n  onError: PropTypes.func,\r\n  onSuccess: PropTypes.func,\r\n};\r\n\r\nForm.defaultProps = {\r\n  onError: () => null,\r\n  onSuccess: () => null,\r\n};\r\n\r\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}