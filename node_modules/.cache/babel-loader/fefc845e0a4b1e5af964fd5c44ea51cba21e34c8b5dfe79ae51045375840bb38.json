{"ast":null,"code":"import _regeneratorRuntime from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState}from\"react\";import Button,{BUTTON_TYPES}from\"../../components/Button/Button\";import\"./Form.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var mockContactApi=function mockContactApi(){return new Promise(function(resolve){setTimeout(resolve,1000);});};var Form=function Form(_ref){var onSuccess=_ref.onSuccess,onError=_ref.onError;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sending=_useState2[0],setSending=_useState2[1];var sendContact=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:evt.preventDefault();setSending(true);// We try to call mockContactApi\n_context.prev=2;_context.next=5;return mockContactApi();case 5:setSending(false);onSuccess();_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);setSending(false);onError(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[onSuccess,onError]);return/*#__PURE__*/_jsxs(\"form\",{id:\"contact-form\",method:\"post\",onSubmit:sendContact,children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"name\",children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Your Full Name\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Your Email Address\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"message\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"6\",placeholder:\"Your Message\",id:\"message\",name:\"message\",required:true}),/*#__PURE__*/_jsx(Button,{id:\"submit\",type:BUTTON_TYPES.SUBMIT,disabled:sending,children:sending?\"En cours\":\"Envoyer\"})]});};Form.defaultProps={onError:function onError(){return null;},onSuccess:function onSuccess(){return null;}};export default Form;","map":{"version":3,"names":["React","useCallback","useState","Button","BUTTON_TYPES","jsx","_jsx","jsxs","_jsxs","mockContactApi","Promise","resolve","setTimeout","Form","_ref","onSuccess","onError","_useState","_useState2","_slicedToArray","sending","setSending","sendContact","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","evt","wrap","_callee$","_context","prev","next","preventDefault","t0","stop","_x","apply","arguments","id","method","onSubmit","children","className","htmlFor","type","name","placeholder","required","rows","SUBMIT","disabled","defaultProps"],"sources":["A:/projets developpement/my-portfolio/src/containers/Form/Form.jsx"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button, { BUTTON_TYPES } from \"../../components/Button/Button\";\r\nimport \"./Form.scss\";\r\n\r\nconst mockContactApi = () =>\r\n  new Promise((resolve) => {\r\n    setTimeout(resolve, 1000);\r\n  });\r\n\r\nconst Form = ({ onSuccess, onError }) => {\r\n  const [sending, setSending] = useState(false);\r\n\r\n  const sendContact = useCallback(async (evt) => {\r\n    evt.preventDefault();\r\n    setSending(true);\r\n\r\n    // We try to call mockContactApi\r\n    try {\r\n      await mockContactApi();\r\n      setSending(false);\r\n      onSuccess();\r\n    } catch (err) {\r\n      setSending(false);\r\n      onError(err);\r\n    }\r\n  }, [onSuccess, onError]);\r\n\r\n  return (\r\n    <form id=\"contact-form\" method=\"post\" onSubmit={sendContact}>\r\n      <label className=\"label\" htmlFor=\"name\">Full name</label>\r\n      <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Your Full Name\" required />\r\n      <label className=\"label\" htmlFor=\"email\">Email Address</label>\r\n      <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Your Email Address\" required />\r\n      <label className=\"label\" htmlFor=\"message\">Message</label>\r\n      <textarea rows=\"6\" placeholder=\"Your Message\" id=\"message\" name=\"message\" required />\r\n      <Button id=\"submit\" type={BUTTON_TYPES.SUBMIT} disabled={sending}>\r\n        {sending ? \"En cours\" : \"Envoyer\"}\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nForm.propTypes = {\r\n  onError: PropTypes.func,\r\n  onSuccess: PropTypes.func,\r\n};\r\n\r\nForm.defaultProps = {\r\n  onError: () => null,\r\n  onSuccess: () => null,\r\n};\r\n\r\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}