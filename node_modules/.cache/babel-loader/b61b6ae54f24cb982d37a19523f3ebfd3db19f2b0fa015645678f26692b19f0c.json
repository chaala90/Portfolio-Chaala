{"ast":null,"code":"var _jsxFileName = \"A:\\\\projets developpement\\\\my-portfolio\\\\src\\\\components\\\\Events\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport ProjectCard from \"../ProjectCard/index\";\nimport Select from \"../Select/index\";\nimport { useData } from \"../../containers/context/index\";\nimport Modal from \"../../containers/Modal/Modal\";\nimport ModalProject from \"../../containers/ModalProject/index\";\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PER_PAGE = 9;\nconst ProjectList = () => {\n  _s();\n  const {\n    data,\n    error\n  } = useData();\n  const [type, setType] = useState();\n  const [currentPage, setCurrentPage] = useState(1);\n  const filteredProjects = ((!type ? data === null || data === void 0 ? void 0 : data.projects : data === null || data === void 0 ? void 0 : data.projects.filter(project => project.type === type)) || []).filter((project, index) => {\n    if ((currentPage - 1) * PER_PAGE <= index && PER_PAGE * currentPage > index) {\n      return true;\n    }\n    return false;\n  });\n  const changeType = pType => {\n    setCurrentPage(1);\n    setType(pType);\n  };\n  const pageNumber = Math.floor(((filteredProjects === null || filteredProjects === void 0 ? void 0 : filteredProjects.length) || 0) / PER_PAGE) + 1;\n  const typeList = new Set(data === null || data === void 0 ? void 0 : data.projects.map(project => project.type));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"An error occured\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }, this), data === null ? \"loading\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        selection: Array.from(typeList),\n        onChange: value => value ? changeType(value) : changeType(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"events\",\n        className: \"ListContainer\",\n        children: filteredProjects.map(project => /*#__PURE__*/_jsxDEV(Modal, {\n          Content: /*#__PURE__*/_jsxDEV(ModalProject, {\n            project: project\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 47\n          }, this),\n          children: _ref => {\n            let {\n              setIsOpened\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(ProjectCard, {\n              onClick: () => setIsOpened(true),\n              imageSrc: project.cover,\n              title: project.title,\n              link: project.link,\n              date: new Date(project.date),\n              label: project.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this);\n          }\n        }, project.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Pagination\",\n        children: [...Array(pageNumber || 0)].map((_, n) =>\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        _jsxDEV(\"a\", {\n          href: \"#events\",\n          onClick: () => setCurrentPage(n + 1),\n          children: n + 1\n        }, n, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n_s(ProjectList, \"tBxh+fVpKDnVW3tMmU3S4L1bPJA=\", false, function () {\n  return [useData];\n});\n_c = ProjectList;\nexport default ProjectList;\nvar _c;\n$RefreshReg$(_c, \"ProjectList\");","map":{"version":3,"names":["useState","ProjectCard","Select","useData","Modal","ModalProject","jsxDEV","_jsxDEV","Fragment","_Fragment","PER_PAGE","ProjectList","_s","data","error","type","setType","currentPage","setCurrentPage","filteredProjects","projects","filter","project","index","changeType","pType","pageNumber","Math","floor","length","typeList","Set","map","children","fileName","_jsxFileName","lineNumber","columnNumber","selection","Array","from","onChange","value","id","className","Content","_ref","setIsOpened","onClick","imageSrc","cover","title","link","date","Date","label","_","n","href","_c","$RefreshReg$"],"sources":["A:/projets developpement/my-portfolio/src/components/Events/index.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport ProjectCard from \"../ProjectCard/index\";\r\nimport Select from \"../Select/index\";\r\nimport { useData } from \"../../containers/context/index\";\r\nimport Modal from \"../../containers/Modal/Modal\";\r\nimport ModalProject from \"../../containers/ModalProject/index\";\r\n\r\nimport \"./style.scss\";\r\n\r\nconst PER_PAGE = 9;\r\n\r\nconst ProjectList = () => {\r\n  const { data, error } = useData();\r\n  const [type, setType] = useState();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const filteredProjects = (\r\n    (!type ? data?.projects \r\n    : data?.projects\r\n    .filter(project => project.type === type)) || [])\r\n    .filter((project, index) => {\r\n    if ((currentPage - 1) * PER_PAGE <= index && PER_PAGE * currentPage > index ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n  const changeType = (pType) => {\r\n    setCurrentPage(1);\r\n    setType(pType);\r\n  };\r\n  const pageNumber = Math.floor((filteredProjects?.length || 0) / PER_PAGE) + 1;\r\n  const typeList = new Set(data?.projects.map((project) => project.type));\r\n  return (\r\n    <>\r\n      {error && <div>An error occured</div>}\r\n      {data === null ? (\r\n        \"loading\"\r\n      ) : (\r\n        <>\r\n        {/*  <h3 className=\"SelectTitle\">Cat√©gories</h3>*/}\r\n          <Select\r\n            selection={Array.from(typeList)}\r\n            onChange={(value) => (value ? changeType(value) : changeType(null))}\r\n          />\r\n          <div id=\"events\" className=\"ListContainer\">\r\n            {filteredProjects.map((project) => (\r\n             <Modal key={project.id} Content={<ModalProject project={project} />}>\r\n                {({ setIsOpened }) => (\r\n                  <ProjectCard\r\n                    onClick={() => setIsOpened(true)}\r\n                    imageSrc={project.cover}\r\n                    title={project.title}\r\n                    link={project.link}\r\n                    date={new Date(project.date)}\r\n                    label={project.type}\r\n                  />\r\n                )}\r\n              </Modal>\r\n            ))}\r\n          </div>\r\n          <div className=\"Pagination\">\r\n            {[...Array(pageNumber || 0)].map((_, n) => (\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              <a key={n} href=\"#events\" onClick={() => setCurrentPage(n + 1)}>\r\n                {n + 1}\r\n              </a>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProjectList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}