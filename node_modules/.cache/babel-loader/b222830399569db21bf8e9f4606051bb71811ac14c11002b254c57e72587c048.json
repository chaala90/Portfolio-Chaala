{"ast":null,"code":"import _slicedToArray from\"A:/projets developpement/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect,useState}from'react';import{gsap}from'gsap';import{ScrollTrigger}from'gsap/dist/ScrollTrigger';import'./Parallax.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Parallax=function Parallax(){var _useState=useState(20),_useState2=_slicedToArray(_useState,2),background=_useState2[0],setBackground=_useState2[1];var parallaxRef=useRef(null);var mountain3=useRef(null);var cloudsLeft=useRef(null);var cloudsRight=useRef(null);var stars=useRef(null);var btn=useRef(null);useEffect(function(){var ctx=gsap.context(function(){gsap.registerPlugin(ScrollTrigger);var tl=gsap.timeline({defaults:{duration:1},scrollTrigger:{trigger:parallaxRef.current,start:'top top',end:'5000 bottom',scrub:true,pin:true,onUpdate:function onUpdate(self){setBackground(Math.ceil(self.progress*100+20));}}});tl.to(mountain3.current,{y:'-=80'},0);tl.to(stars.current,{top:0},0.5);tl.to(cloudsLeft.current,{x:'-20%',opacity:0},0);tl.to(cloudsRight.current,{x:'20%',opacity:0},0);tl.to(btn.current,{opacity:1},1.5);});return function(){return ctx.revert();};},[]);return/*#__PURE__*/_jsx(\"div\",{id:\"parallax\",className:\"parallax-outer\",children:/*#__PURE__*/_jsxs(\"div\",{ref:parallaxRef,style:{background:\"linear-gradient(#778da9, #778da9 \".concat(background,\"%, #a3b18a, #00FF00 )\")},className:\"parallax\",children:[/*#__PURE__*/_jsx(\"img\",{ref:mountain3,className:\"mountain-3\",alt:\"mountain\",src:\"/paralax/mountain-3.svg\"}),/*#__PURE__*/_jsx(\"img\",{ref:cloudsLeft,alt:\"cloud\",className:\"clouds-left\",src:\"/paralax/clouds-left.svg\"}),/*#__PURE__*/_jsx(\"img\",{ref:cloudsRight,alt:\"cloud\",className:\"clouds-right\",src:\"/paralax/clouds-right.svg\"}),/*#__PURE__*/_jsx(\"img\",{ref:stars,className:\"stars\",alt:\"stars\",src:\"/paralax/stars.svg\"})]})});};export default Parallax;","map":{"version":3,"names":["React","useRef","useEffect","useState","gsap","ScrollTrigger","jsx","_jsx","jsxs","_jsxs","Parallax","_useState","_useState2","_slicedToArray","background","setBackground","parallaxRef","mountain3","cloudsLeft","cloudsRight","stars","btn","ctx","context","registerPlugin","tl","timeline","defaults","duration","scrollTrigger","trigger","current","start","end","scrub","pin","onUpdate","self","Math","ceil","progress","to","y","top","x","opacity","revert","id","className","children","ref","style","concat","alt","src"],"sources":["A:/projets developpement/my-portfolio/src/components/Parallax/Parallax.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport { gsap } from 'gsap';\r\nimport { ScrollTrigger } from 'gsap/dist/ScrollTrigger';\r\nimport './Parallax.scss';\r\n\r\nconst Parallax = () => {\r\n  const [background, setBackground] = useState(20);\r\n  const parallaxRef = useRef(null);\r\n  const mountain3 = useRef(null);\r\n  const cloudsLeft = useRef(null);\r\n  const cloudsRight = useRef(null);\r\n  const stars = useRef(null);\r\n  const btn = useRef(null);\r\n\r\n  useEffect(() => {\r\n    let ctx = gsap.context(() => {\r\n      gsap.registerPlugin(ScrollTrigger);\r\n      var tl = gsap.timeline({\r\n        defaults: { duration: 1 },\r\n        scrollTrigger: {\r\n          trigger: parallaxRef.current,\r\n          start: 'top top',\r\n          end: '5000 bottom',\r\n          scrub: true,\r\n          pin: true,\r\n          onUpdate: self => {\r\n            setBackground(Math.ceil(self.progress * 100 + 20));\r\n          },\r\n        },\r\n      });\r\n      tl.to(\r\n        mountain3.current,\r\n        {\r\n          y: '-=80',\r\n        },\r\n        0,\r\n      );\r\n      tl.to(\r\n        stars.current,\r\n        {\r\n          top: 0,\r\n        },\r\n        0.5,\r\n      );\r\n      tl.to(\r\n        cloudsLeft.current,\r\n        {\r\n          x: '-20%',\r\n          opacity: 0,\r\n        },\r\n        0,\r\n      );\r\n      tl.to(\r\n        cloudsRight.current,\r\n        {\r\n          x: '20%',\r\n          opacity: 0,\r\n        },\r\n        0,\r\n      );\r\n      tl.to(\r\n        btn.current,\r\n        {\r\n          opacity: 1,\r\n        },\r\n        1.5,\r\n      );\r\n    });\r\n    return () => ctx.revert();\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"parallax\" className=\"parallax-outer\">\r\n      <div\r\n        ref={parallaxRef}\r\n        style={{\r\n          background: `linear-gradient(#778da9, #778da9 ${background}%, #a3b18a, #00FF00 )`,\r\n        }}\r\n        className=\"parallax\"\r\n      >\r\n        <img\r\n          ref={mountain3}\r\n          className=\"mountain-3\"\r\n          alt=\"mountain\"\r\n          src=\"/paralax/mountain-3.svg\"\r\n        />\r\n        <img\r\n          ref={cloudsLeft}\r\n          alt=\"cloud\"\r\n          className=\"clouds-left\"\r\n          src=\"/paralax/clouds-left.svg\"\r\n        />\r\n        <img\r\n          ref={cloudsRight}\r\n          alt=\"cloud\"\r\n          className=\"clouds-right\"\r\n          src=\"/paralax/clouds-right.svg\"\r\n        />\r\n        <img\r\n          ref={stars}\r\n          className=\"stars\"\r\n          alt=\"stars\"\r\n          src=\"/paralax/stars.svg\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Parallax;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}